SamplerState sampler0 : register ( s0 );
Texture2D DepthTexture : register ( t7 );

struct VS_OUTPUT
{
	float4 pos 		: SV_POSITION;
	float3 normal 	: NORMAL;
	float2 uv 		: TEXCOORD;
	float3 binorm 	: BINORMAL;
	float3 tang 	: TANGENT;
	float4 worldpos : POSITION;
	float4 tex 		: TEX;
};

float4 main(VS_OUTPUT input) : SV_Target
{
	//float4 tex = input.tex;
	//input.tex /= input.tex.w;
	//float2 texCoord = input.tex.xy;	
	//float depth = DepthTexture.Sample(sampler0, texCoord).r;

	float height = input.worldpos.y;

	if(height < 0.f)
		height = 0.f;


	float4 center_color = float4(0,1,1,1);
	float4 apex_color = float4(0,0,0,1);
	float4 twilight_purple = float4(0.13, 0, 0.27, 1);
	float4 orange = float4( 0.91, 0.55, 0.09, 1);
	float4 blue = float4(0,0,1,1);

	float4 output = lerp(float4(1,1,1,1), blue, height);
//	output = saturate(lerp(output, blue, height ));
	//output = lerp(output, apex_color, height );



	return float4(output.rgb,1);
}