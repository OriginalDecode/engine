
    #version 330
    #extension GL_EXT_geometry_shader4 : enable
    layout(triangles) in;
    layout(triangle_strip, max_vertices = 3) out;
    uniform int layer;
    void main() {
      gl_Position = gl_PositionIn[0];
      gl_Layer = layer;
      EmitVertex();
      gl_Position = gl_PositionIn[1];
      gl_Layer = layer;
      EmitVertex();
      gl_Position = gl_PositionIn[2];
      gl_Layer = layer;
      EmitVertex();
      EndPrimitive();
    }